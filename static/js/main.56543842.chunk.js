(this.webpackJsonpweb=this.webpackJsonpweb||[]).push([[0],{163:function(e){e.exports=JSON.parse('[{"elementType":"geometry","stylers":[{"color":"#212121"}]},{"elementType":"labels.icon","stylers":[{"visibility":"off"}]},{"elementType":"labels.text.fill","stylers":[{"color":"#757575"}]},{"elementType":"labels.text.stroke","stylers":[{"color":"#212121"}]},{"featureType":"administrative","elementType":"geometry","stylers":[{"color":"#757575"}]},{"featureType":"administrative.country","elementType":"labels.text.fill","stylers":[{"color":"#9e9e9e"}]},{"featureType":"administrative.land_parcel","stylers":[{"visibility":"off"}]},{"featureType":"administrative.locality","elementType":"labels.text.fill","stylers":[{"color":"#bdbdbd"}]},{"featureType":"poi","elementType":"labels.text.fill","stylers":[{"color":"#757575"}]},{"featureType":"poi.park","elementType":"geometry","stylers":[{"color":"#181818"}]},{"featureType":"poi.park","elementType":"labels.text.fill","stylers":[{"color":"#616161"}]},{"featureType":"poi.park","elementType":"labels.text.stroke","stylers":[{"color":"#1b1b1b"}]},{"featureType":"road","elementType":"geometry.fill","stylers":[{"color":"#2c2c2c"}]},{"featureType":"road","elementType":"labels.text.fill","stylers":[{"color":"#8a8a8a"}]},{"featureType":"road.arterial","elementType":"geometry","stylers":[{"color":"#373737"}]},{"featureType":"road.highway","elementType":"geometry","stylers":[{"color":"#3c3c3c"}]},{"featureType":"road.highway.controlled_access","elementType":"geometry","stylers":[{"color":"#4e4e4e"}]},{"featureType":"road.local","elementType":"labels.text.fill","stylers":[{"color":"#616161"}]},{"featureType":"transit","elementType":"labels.text.fill","stylers":[{"color":"#757575"}]},{"featureType":"water","elementType":"geometry","stylers":[{"color":"#000000"}]},{"featureType":"water","elementType":"labels.text.fill","stylers":[{"color":"#3d3d3d"}]}]')},207:function(e,t,a){},243:function(e,t){},246:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(19),c=a.n(s),i=a(24),o=a(11),l=(a(207),a(20)),d=a.n(l),m=a(60),u=a(189),p=a(187),b=a(172),j=a.n(b),h=a(163);const x={lat:49.8951,lng:-97.1384},g=["places"],O={bounds:{north:x.lat+1,south:x.lat-1,east:x.lng+1,west:x.lng-1},componentRestrictions:{country:"ca"},fields:["address_components","geometry","icon","name"],origin:x,strictBounds:!0},f={mapTypeControl:!1,disableDefaultUI:!0,zoomControl:!0,styles:h};var v=a(85),w=a(33),y=a(296),N=a(298),C=a(299),k=a(300),T=a(301),S=a(302),F=a(303),D=a(304),B=a(305),P=a(306),A=a(307),I=a(308),E=a(309),L=a(310),R=a(311),M=a(312),z=a(313),_=a(314),H=a(315),U=a(316),q=a(317),Y=a(318),W=a(3);const V={place:{component:Object(W.jsx)(y.a,{}),path:w.m},audiotrack:{component:Object(W.jsx)(N.a,{}),path:w.n},build:{component:Object(W.jsx)(C.a,{}),path:w.v},cake:{component:Object(W.jsx)(k.a,{}),path:w.d},childfriendly:{component:Object(W.jsx)(T.a,{}),path:w.a},commute:{component:Object(W.jsx)(S.a,{}),path:w.u},computer:{component:Object(W.jsx)(F.a,{}),path:w.l},home:{component:Object(W.jsx)(D.a,{}),path:w.k},hotel:{component:Object(W.jsx)(B.a,{}),path:w.b},localflorist:{component:Object(W.jsx)(P.a,{}),path:w.g},localpizza:{component:Object(W.jsx)(A.a,{}),path:w.p},mail:{component:Object(W.jsx)(I.a,{}),path:w.f},formatPaint:{component:Object(W.jsx)(E.a,{}),path:w.h},palette:{component:Object(W.jsx)(L.a,{}),path:w.o},restaurant:{component:Object(W.jsx)(R.a,{}),path:w.r},school:{component:Object(W.jsx)(M.a,{}),path:w.q},shoppingcart:{component:Object(W.jsx)(z.a,{}),path:w.e},videogameasset:{component:Object(W.jsx)(_.a,{}),path:w.i},localoffer:{component:Object(W.jsx)(H.a,{}),path:w.s},sportshockey:{component:Object(W.jsx)(U.a,{}),path:w.j},terrain:{component:Object(W.jsx)(q.a,{}),path:w.t},directionsbike:{component:Object(W.jsx)(Y.a,{}),path:w.c}};var J=V,G=a.p+"static/media/flag_icon.84b48c77.png",K=a(21),Q=a.n(K),X=a(27),Z=a(10),$=a(94),ee=a(341),te=a(95),ae=a(257),ne=a(349),re=a(327),se=a(319);const ce=Object(m.a)((()=>({pic:{width:96,height:96,padding:5},icon:{width:96,height:96}})));var ie=e=>{const t=ce(),a=Object(n.useState)(null),r=Object(o.a)(a,2),s=r[0],c=r[1],i=function(){var t=Object(X.a)(Q.a.mark((function t(){var a;return Q.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,d.a.get("/images/".concat(e.username,"/profile"));case 2:a=t.sent,c(a.data.result);case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(n.useEffect)((()=>{i()}),[e.username]),Object(W.jsx)("div",{className:t.container,children:s?Object(W.jsx)("img",{src:"".concat("https://acubed-servus-api.herokuapp.com/","/").concat(s.imageData),className:t.pic}):Object(W.jsx)(se.a,{className:t.icon})})},oe=a(183),le=a(320),de=a(344),me=a(343),ue=a(324),pe=a(325),be=a(9),je=a.n(be),he=a(115),xe=a(34),ge=a(326),Oe=a(342);const fe=Object(oe.a)({palette:{type:"dark",primary:{main:"#647AA3"},secondary:{main:"#EC5732"},default:{main:"#FFF2EB"}},background:{dark:"#151515",main:"#272727"},typography:{fontFamily:["Roboto"]}}),ve=Object(m.a)((()=>({window:{margin:"50",display:"flex",alignItems:"center","flex-direction":"column",width:"100%",height:"100%",background:fe.background.main},innerwindow:{display:"flex",height:"100%","flex-direction":"column",justifyContent:"space-evenly"},container:{display:"flex",alignItems:"center","flex-direction":"column"},textField:{marginLeft:fe.spacing(1),marginRight:fe.spacing(1),width:"100%"},formControl:{marginLeft:fe.spacing(1),marginRight:fe.spacing(1),width:"100%",height:40},userIcon:{height:"96px",width:"96px"},title:{marginTop:"15px",fontSize:"2.5em",color:"white"},divider:{height:"100%",width:"3","border-color":fe.background.main},close:{position:"absolute",top:0,right:10,color:"white",fontSize:"2em"},submit:{}})));var we=e=>{const t=Object(n.useState)(),a=Object(o.a)(t,2),r=a[0],s=a[1],c=Object(n.useState)({time:""}),i=Object(o.a)(c,2),l=i[0],m=i[1],u=Object(n.useState)(),p=Object(o.a)(u,2),b=p[0],j=p[1],h=ve(),x=Object(n.useState)(!1),g=Object(o.a)(x,2),O=g[0],f=g[1],v=Object(n.useState)({}),w=Object(o.a)(v,2),y=w[0],N=w[1],C=Object(Oe.a)(),k=Object(o.a)(C,1)[0];let T=e.service.duration.slice(0,2),S=e.service.duration.slice(2);const F=function(){var t=Object(X.a)(Q.a.mark((function t(){var a,n,s,c;return Q.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=(e,t)=>{let a=e.indexOf(t);return a>-1&&e.splice(a,1),e},n=[],s=()=>{for(let t in e.service.availability)if(e.service.availability[t].weekday==r.day()){let a=je()(e.service.availability[t].start_time,"HH:mm"),r=je()(e.service.availability[t].end_time,"HH:mm"),s=je()(a).add(T,"h").add(S,"m"),c=a;for(;s<=r;)n.push(je()(c).format("HH:mm")),c.add(30,"m"),s.add(30,"m")}},c=function(){var t=Object(X.a)(Q.a.mark((function t(){var s,c,i,o,l,m,u,p,b,j;return Q.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,d.a.get("appointment/service/".concat(e.service._id));case 2:for(i in s=t.sent,c=[],s.data.result)if(o=je()(s.data.result[i].booked_time),l=je()(o).add(T,"h").add(S,"m"),o.isSame(r,"day"))for(m in n)u=r.format("YYYY-MM-DD"),p=je()(n[m],"HH:mm").format("HH:mm"),b=je()("".concat(u," ").concat(p),"YYYY-MM-DD HH:mm"),j=je()(b).add(T,"h").add(S,"m"),(b>=o&&b<=l||j>=o&&j<=l)&&c.push(n[m]);for(m in c)a(n,c[m]);case 6:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),s(),t.next=7,c();case 7:j(Object(W.jsxs)(le.a,{className:h.formControl,children:[Object(W.jsx)(de.a,{id:"label",className:h.inputLabel,children:"Appointment Time"}),Object(W.jsx)(me.a,{labelId:"label",value:l.time,onChange:e=>D(e),children:null===n||void 0===n?void 0:n.map(((e,t)=>Object(W.jsx)(ue.a,{value:e,children:e},t)))})]}));case 8:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();Object(n.useEffect)((()=>{k.username&&(()=>{if(O){let t=r.format("YYYY-MM-DD"),a=je()(l.time,"HH:mm").format("HH:mm:ss"),n=je()("".concat(t," ").concat(a),"YYYY-MM-DD HH:mm:ss").toDate();d.a.post("/appointment/".concat(k.username),{service_id:e.service._id,provider:e.service.provider,booked_time:n},{withCredentials:!0}).then((t=>{t.data.errors||alert("Successfully booked Service with ".concat(e.service.provider))})).catch((e=>{throw e})),e.toggle(),f(!1)}})(),r&&F()}),[O,r,l]);const D=e=>{m({time:e.target.value})};let B="Appointment Duration:";return B="00"===T?"".concat(B," ").concat(S," mins"):"".concat(B," ").concat(T,":").concat(S," hrs"),console.log(),Object(W.jsx)(pe.a,{theme:fe,children:Object(W.jsxs)("div",{className:h.window,children:[Object(W.jsx)($.a,{variant:"h1",className:h.title,children:e.service.name}),Object(W.jsx)($.a,{color:"textSecondary",children:B}),Object(W.jsxs)("div",{className:h.innerwindow,children:[Object(W.jsx)("form",{className:h.container,noValidate:!0,children:Object(W.jsxs)(xe.a,{utils:he.a,children:[Object(W.jsx)(ge.a,{label:"Appointment Date",value:r,initialFocusedDate:Date.now(),onAccept:s,onChange:s,name:"date",autoOk:!0,disablePast:!0,errors:y.time,shouldDisableDate:t=>{for(let a in e.service.availability)if(e.service.availability[a].weekday==t.day())return!1;return!0},className:h.textField}),b]})}),Object(W.jsx)(te.a,{variant:"contained",color:"primary",className:h.submit,onClick:()=>{let e={};r&&l.time||(e.time="Date & Time are required"),N(e),f(0==Object.getOwnPropertyNames(e).length)},children:"CONFIRM"})]}),Object(W.jsxs)("span",{className:h.close,onClick:()=>{e.toggle()},children:["\xd7"," "]})]})})};const ye=Object(Z.a)({iconFilled:{color:"#ff6d75"},iconHover:{color:"#EC5732"}})(ne.a),Ne=Object(m.a)((()=>({window:{display:"flex","flex-direction":"column","align-items":"center",overflow:"visible",padding:10,maxWidth:"200"},upperRow:{width:"100%",height:"50%",display:"flex","flex-direction":"row",justifyContent:"space-evenly"},lowerRow:{width:"100%",height:"50%",textAlign:"left"},iconButton:{height:96,width:96,padding:0,margin:0},info:{height:"100%",display:"flex",flexDirection:"column",justifyContent:"space-evenly"},infoBar:{display:"flex",justifyContent:"center",flexDirection:"column"},title:{fontSize:"1.75em"},modal:{height:"35%",width:"35%",margin:"auto auto"},provider:{"&:hover":{cursor:"pointer","text-decoration":"underline"},fontSize:"1.25em",marginTop:0,color:"#647AA3"},desc:{marginTop:5,"word-wrap":"break-word"},box:{display:"flex",flexDirection:"row",margin:0},innerBox:{margin:0,textAlign:"left",lineHeight:"2",marginLeft:7},book:{marginTop:10}})));var Ce=e=>{const t=e=>{let t=0,a=e.length;return e.map((e=>{t+=e.rating})),a>0?t/a:0},a=Object(Oe.a)(),r=Object(o.a)(a,1)[0],s=Ne(),c=Object(n.useState)(!1),i=Object(o.a)(c,2),l=i[0],m=i[1],u=Object(n.useState)(t(e.service.ratings)),b=Object(o.a)(u,2),j=b[0],h=b[1],x=()=>{m(!l)},g=()=>{e.history.push("/profile/".concat(e.service.provider))},O=function(){var a=Object(X.a)(Q.a.mark((function a(n){var s;return Q.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(!r.username){a.next=5;break}return a.next=3,d.a.put("/services/".concat(e.service._id,"/rate"),{rating:n,username:r.username});case 3:s=a.sent,h(t(s.data.result.ratings));case 5:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}();return Object(W.jsxs)("div",{className:s.window,children:[Object(W.jsxs)("div",{className:s.upperRow,children:[Object(W.jsx)(p.a,{onClick:g,className:s.iconButton,children:Object(W.jsx)(ie,{className:s.userIcon,username:e.service.provider})}),Object(W.jsxs)("div",{className:s.infoBar,children:[Object(W.jsx)($.a,{variant:"h1",className:s.title,children:e.service.name}),Object(W.jsx)($.a,{color:"textSecondary",onClick:g,className:s.provider,children:"@".concat(e.service.provider)}),Object(W.jsx)(ee.a,{ml:2,className:s.box,children:Object(W.jsx)(ye,{name:"customized-color",value:j,getLabelText:e=>"".concat(e," Heart ").concat(1!==e?"s":""),onChange:(e,t)=>{O(t)},precision:.5,icon:Object(W.jsx)(re.a,{fontSize:"inherit"})})})]})]}),Object(W.jsx)("div",{className:s.lowerRow,align:"left",children:Object(W.jsxs)("div",{className:s.info,children:[Object(W.jsxs)($.a,{variant:"body2",component:"p",className:s.desc,children:["Cost: "+e.service.cost,Object(W.jsx)("br",{}),e.service.description]}),Object(W.jsx)(te.a,{color:"primary",variant:"contained",onClick:x,className:s.book,children:"Book"})]})}),Object(W.jsx)(ae.a,{className:s.modal,open:l,"aria-labelledby":"spring-modal-title","aria-describedby":"spring-modal-description",children:Object(W.jsx)(we,{service:e.service,toggle:x})})]})};const ke=Object(m.a)((()=>({root:{display:"flex",flexDirection:"column",alignItems:"center",height:"100%",width:"100%"},textField:{backgroundColor:"black",width:"100%",paddingLeft:"10px"},autocomplete:{width:"80%"},addressContainer:{display:"flex",justifyContent:"center",marginTop:"2%",width:"100%",color:"black"},mapContainer:{width:"100%",height:"100%"},button:{backgroundColor:"white",position:"absolute",bottom:"110px",right:"10px",borderRadius:"2px",padding:"8px","&:hover":{backgroundColor:"white"}},icon:{"&:hover":{color:"black"}}})));var Te=e=>{const t=ke(),a=Object(n.useState)(x),r=Object(o.a)(a,2),s=r[0],l=r[1],m=Object(n.useState)({}),b=Object(o.a)(m,1)[0];let h=!1;const w=Object(v.c)({id:"google-map-script",libraries:g,googleMapsApiKey:"AIzaSyBNSJgJVpv7okVMupuIM0ziVlkmMuwluHg"}).isLoaded;let y=Object(n.useRef)(),N=Object(n.useRef)();const C=Object(n.useCallback)((t=>{T(),y.current=new window.google.maps.Marker({map:t,anchorPoint:new window.google.maps.Point(0,-29)}),d.a.get("/services/").then((a=>{let n=a.data.result;n&&n.map((a=>{let n=document.createElement("div");const r=Object(W.jsx)(Ce,{history:e.history,service:a});c.a.render(r,n);const s=new window.google.maps.InfoWindow({content:n});let i=a.icon_name?{path:J[a.icon_name].path,fillColor:"#EC5732",fillOpacity:1,strokeWeight:0,scale:1}:G,o=new window.google.maps.Marker({map:t,position:{lat:a.location.lat,lng:a.location.lng},icon:i,visible:!0});o.addListener("click",(()=>{h&&h.close(),h=s,s.open(t,o)})),b[a._id]=o}))}))}),[]),k=Object(n.useCallback)((e=>{N.current=e}),[]),T=()=>{var e;null===(e=navigator.geolocation)||void 0===e||e.getCurrentPosition((e=>{l({lat:e.coords.latitude,lng:e.coords.longitude})}))};return Object(n.useEffect)((()=>{var t,a;e.selected_service&&(l(e.selected_service.location),new window.google.maps.event.trigger(b[e.selected_service._id],"click")),null===(t=y.current)||void 0===t||t.setPosition(s),null===(a=y.current)||void 0===a||a.setVisible(!1)}),[s,e.selected_service]),Object(W.jsx)("div",{className:t.root,children:w&&Object(W.jsxs)(v.b,{mapContainerClassName:t.mapContainer,center:s,zoom:12,mapTypeControl:!1,onLoad:C,options:f,children:[Object(W.jsx)("div",{className:t.addressContainer,children:Object(W.jsx)(v.a,{options:Object(i.a)(Object(i.a)({},O),{},{origin:s}),onPlaceChanged:()=>{var e,t;l(null===(e=N.current)||void 0===e||null===(t=e.getPlace().geometry)||void 0===t?void 0:t.location)},onLoad:k,className:t.autocomplete,children:Object(W.jsx)(u.a,{className:t.textField,id:"search-address"})})}),Object(W.jsx)(p.a,{className:t.button,onClick:T,children:Object(W.jsx)(j.a,{className:t.icon})})]})})},Se=a(185),Fe=a(346),De=a(188),Be=a(331),Pe=a(323),Ae=a(249),Ie=a(329),Ee=a(330);const Le=["Advertising","Art","Beauty","Caretaking","Cleaning","Commission","Construction","Farming","Fashion","Finance","Food","Gaming","Hair","Interpreting","Lessons","Meditation","Music","Performance","Seasonal","Sports","Transportation","Writing","Yard"];var Re=Le,Me=a(328);const ze=Object(m.a)((()=>({cardView:{width:"100%",height:"100%",backgroundColor:"transparent",display:"flex",flexDirection:"column",justifyContent:"center"},title:{fontSize:18,color:"white",width:"auto"},chip:{margin:2},modal:{height:"35%",width:"35%",margin:"auto auto"},button:{textTransform:"capitalize"}}))),_e=e=>{const t=parseInt(e.charAt(0)+e.charAt(1)),a=parseInt(e.charAt(3)+e.charAt(4));return t>0?t.toString()+(t>1?" hours ":" hour "):""+a>0?a.toString()+" minutes "+a:""};var He=e=>{const t=ze(),a=e.service.tags?e.service.tags:[],r=Object(n.useState)(!1),s=Object(o.a)(r,2),c=s[0],i=s[1],l=Object(n.useState)(!1),d=Object(o.a)(l,2),m=d[0],u=d[1],p=()=>{u(!m)};return Object(W.jsxs)(Me.a,{variant:"outlined",className:t.cardView,children:[Object(W.jsx)("div",{onClick:()=>i(!c),children:Object(W.jsx)($.a,{variant:"body1",className:t.title,align:"left",children:e.service.name})}),Object(W.jsx)("div",{children:null===a||void 0===a?void 0:a.map(((a,n)=>Object(W.jsx)(Fe.a,{size:"small",label:a,className:t.chip,color:e.selected?"secondary":"default",disabled:!e.selected},n)))}),e.expand&&c?Object(W.jsxs)("div",{className:t.expandedInfo,children:[Object(W.jsx)($.a,{children:e.service.description}),Object(W.jsxs)($.a,{children:["Price: ",e.service.cost]}),Object(W.jsxs)($.a,{children:["Duration: ",_e(e.service.duration)]}),e.bookable?Object(W.jsx)(te.a,{variant:"contained",className:t.button,onClick:p,children:"Book"}):null,Object(W.jsx)(ae.a,{className:t.modal,open:m,"aria-labelledby":"spring-modal-title","aria-describedby":"spring-modal-description",children:Object(W.jsx)(we,{service:e.service,toggle:p})})]}):null]},e.index)};var Ue=function(e={}){const t=Object(n.useState)(e),a=Object(o.a)(t,2),r=a[0],s=a[1];return[r,e=>s(Object(i.a)(Object(i.a)({},r),{},{[e.target.name]:e.target.value})),s]};const qe=Object(m.a)((e=>({rootPanel:{[e.breakpoints.up("xs")]:{minWidth:"384px",width:"384px",height:"100%"},"background-color":e.background.dark,"overflow-y":"scroll",[e.breakpoints.down("xs")]:{width:"100%",height:"100%"}},rootList:{padding:"8px",width:"auto",height:"auto","overflow-x":"hidden"},filters:{"background-color":e.background.dark,margin:"4%",width:"92%"},searchBar:{margin:"4%",padding:"0",width:"92%",height:"40px","flex-wrap":"nowrap","background-color":e.background.main,"border-radius":"12px"},searchIcon:{cursor:"pointer",color:"white",width:"12.5%",padding:10},searchInput:{width:"75%",flex:1,color:"white"},tagChip:{margin:"2px"},divider:{height:28,margin:4,color:"white"},bullet:{"padding-left":"5px","padding-right":"5px",color:"#ec5732"}}))),Ye=Object(m.a)((e=>({root:{"& p":{color:"#545454"},padding:"0","padding-top":"4px","padding-bottom":"4px",height:"auto",width:"auto"},selected:{"& p":{color:"white"}},divider:{"border-color":e.background.main}})));var We=e=>{const t=Object(n.useState)(null),a=Object(o.a)(t,2),r=a[0],s=a[1],c=Object(n.useState)(-1),i=Object(o.a)(c,2),l=i[0],m=i[1],u=Object(n.useState)(!1),b=Object(o.a)(u,2),j=b[0],h=b[1],x=Object(n.useState)([]),g=Object(o.a)(x,1)[0],O=Object(n.useState)(!1),f=Object(o.a)(O,2),v=f[0],w=f[1],y=Ue({search:""}),N=Object(o.a)(y,2),C=N[0],k=N[1],T=qe(),S=Ye(),F=function(){var e=Object(X.a)(Q.a.mark((function e(){var t;return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,d.a.post("/services/filter",{tags:g,search:C.search});case 3:t=e.sent,s(t.data.result),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),D=()=>Object(W.jsx)(Se.a,{className:T.filters,children:j?Re.map(((e,t)=>Object(W.jsx)(Fe.a,{size:"small",label:e,onClick:()=>B(e),className:T.tagChip,color:g.includes(e)?"primary":"default"},t))):null}),B=e=>{if(g.includes(e)){const t=g.indexOf(e);t>-1&&g.splice(t,1)}else g.push(e);w(!v),m(-1)},P=()=>{console.log("searching: ".concat(C.search))};return Object(n.useEffect)((()=>{F(),D()}),[j,v,C.search]),Object(W.jsxs)(Se.a,{className:T.rootPanel,children:[Object(W.jsxs)(Se.a,{className:T.searchBar,children:[Object(W.jsx)(p.a,{className:T.searchIcon,onClick:()=>{h(!j)},"aria-label":"menu",children:Object(W.jsx)(Ie.a,{})}),Object(W.jsx)(De.a,{className:T.searchInput,placeholder:"Search",name:"search",onChange:e=>{k(e)},value:C.search,onKeyDown:e=>"Enter"===e.key?P():console.log(e.key)}),Object(W.jsx)(p.a,{type:"submit",className:T.searchIcon,onClick:P,"aria-label":"search",children:Object(W.jsx)(Ee.a,{})}),Object(W.jsx)(Be.a,{className:T.divider,orientation:"vertical"})]}),D(),Object(W.jsx)(Pe.a,{className:T.rootList,children:r?r.map(((t,a)=>(l==a&&e.setSelectedService(t),Object(W.jsx)(Ae.a,{classes:S,onClick:e=>{m(a)},selected:l==a,divider:!0,children:Object(W.jsx)(He,{service:t,index:a,className:T.serviceCard,selected:l==a,expand:!1})},a)))):null})]})},Ve=a(29);const Je=Object(m.a)((e=>({container:{display:"flex",[e.breakpoints.up("lg")]:{"flex-direction":"row"},[e.breakpoints.down("xs")]:{"flex-direction":"column-reverse"},width:"100%",height:"91%"}})));var Ge=Object(Ve.h)((()=>{const e=Je(),t=Object(Oe.a)(),a=Object(o.a)(t,1)[0],r=Object(Ve.f)(),s=Object(n.useState)(),c=Object(o.a)(s,2),i=c[0],l=c[1];return Object(n.useEffect)((()=>{a.username||r.push("/login")}),[]),Object(W.jsxs)("div",{className:e.container,children:[Object(W.jsx)(We,{setSelectedService:e=>l(e)}),Object(W.jsx)(Te,{selected_service:i,history:r})]})})),Ke=a(46),Qe=a(254),Xe=a(173),Ze=a.n(Xe),$e=a(184),et=a.p+"static/media/servus_text.0893beff.svg",tt=a(332);const at=Object(m.a)((e=>({root:{flexGrow:1,"background-color":"#FFF2EB"},title:{[e.breakpoints.down("xs")]:{flexGrow:1}},logo:{height:"50px","&:hover":{cursor:"pointer"}},menuButton:{marginRight:e.spacing(2),color:"#272727",fontFamily:"Times New Roman, serif"},mobile:{marginRight:e.spacing(2)},headerOptions:{display:"flex",flex:1,justifyContent:"flex-end"}})));var nt=Object(Ve.h)((e=>{const t=at(),a=Object(n.useState)(null),r=Object(o.a)(a,2),s=r[0],c=r[1],i=Boolean(s),l=Object(Ke.a)(),d=Object(tt.a)(l.breakpoints.down("xs")),m=t=>{e.history.push(t)},u=[{menuTitle:"Home",pageURL:"/"},{menuTitle:"Appointments",pageURL:"/appointment"},{menuTitle:"".concat(e.username),pageURL:"/profile/".concat(e.username)}];return Object(W.jsx)("div",{className:t.root,position:"static",children:Object(W.jsxs)(Qe.a,{children:[Object(W.jsx)("div",{className:t.title,children:Object(W.jsx)("img",{className:t.logo,onClick:()=>m("/"),src:et,height:"50"})}),d?Object(W.jsxs)(W.Fragment,{children:[Object(W.jsx)(p.a,{edge:"start",className:t.menuButton,color:"inherit","aria-label":"menu",onClick:e=>{c(e.currentTarget)},children:Object(W.jsx)(Ze.a,{})}),Object(W.jsx)($e.a,{className:t.mobile,id:"menu-appbar",anchorEl:s,anchorOrigin:{vertical:"top",horizontal:"right"},keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:i,onClose:()=>c(null),children:u.map(((t,a)=>{const n=t.menuTitle,r=t.pageURL;return Object(W.jsx)(ue.a,{onClick:()=>(t=>{e.history.push(t)})(r),children:n},a)}))})]}):Object(W.jsxs)("div",{className:t.headerOptions,children:[Object(W.jsx)(te.a,{className:t.menuButton,onClick:()=>m("/appointment"),children:Object(W.jsx)($.a,{variant:"h4",children:"Appointments"})}),Object(W.jsx)(te.a,{className:t.menuButton,onClick:e.username?()=>m("/profile/".concat(e.username)):()=>m("/login"),children:Object(W.jsx)($.a,{variant:"h4",children:e.username?e.username:"Login"})})]})]})})})),rt=a(66);const st=Object(oe.a)({palette:{type:"dark",primary:{main:"#647AA3"},secondary:{main:"#EC5732"},default:{main:"#FFF2EB"}},background:{dark:"#151515",main:"#272727"},typography:{fontFamily:["Roboto"]}}),ct=Object(m.a)((()=>({root:{display:"flex",flexDirection:"column",justifyContent:"space-evenly",alignItems:"center",margin:"2%"},textField:{width:"50%",marginBottom:"3%"},button:{marginBottom:"3%",textTransform:"capitalize"},title:{color:"white"}})));var it=e=>{const t=ct(),a=Object(Ve.f)(),r=Object(n.useState)({}),s=Object(o.a)(r,2),c=s[0],i=s[1],l=Object(n.useState)(!1),m=Object(o.a)(l,2),p=m[0],b=m[1],j=Ue({username:"",password:""}),h=Object(o.a)(j,2),x=h[0],g=h[1],O=function(){var t=Object(X.a)(Q.a.mark((function t(){return Q.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!p){t.next=3;break}return d.a.post("/user/".concat(x.username,"/login"),{password:x.password},{withCredentials:!0}).then((t=>{console.log(t.data.result.username),e.setUsername(t.data.result.username),a.push("/")})).catch((e=>{alert("User not found. ".concat(e," "))})),t.abrupt("return");case 3:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(n.useEffect)((()=>{O()}),[p]),Object(W.jsx)(pe.a,{theme:st,children:Object(W.jsxs)("div",{className:t.root,children:[Object(W.jsx)($.a,{variant:"h2",className:t.title,children:"Login"}),Object(W.jsx)(u.a,{className:t.textField,id:"outlined-basic",label:"username",name:"username",value:x.username,onChange:g,error:c.username}),Object(W.jsx)(u.a,{className:t.textField,id:"outlined-password-input",label:"password",type:"password",name:"password",autoComplete:"current-password",value:x.password,onChange:g,error:c.password}),Object(W.jsx)(te.a,{className:t.button,variant:"contained",onClick:()=>{let e={};x.username||(e.username="username is required"),x.password||(e.password="password is required"),i(e),b(0==Object.getOwnPropertyNames(e).length)},children:"Login"}),Object(W.jsx)(te.a,{className:t.button,variant:"contained",onClick:()=>a.push("/signup"),children:"Sign up"})]})})};const ot=Object(m.a)((()=>({root:{display:"flex",flexDirection:"column",justifyContent:"space-evenly",alignItems:"center",margin:"10%"},textField:{width:"50%",marginBottom:"3%"},button:{marginBottom:"3%"}})));var lt=()=>{const e=ot(),t=Object(Ve.f)(),a=Object(n.useState)({}),r=Object(o.a)(a,2),s=r[0],c=r[1],i=Object(n.useState)(),l=Object(o.a)(i,2),m=l[0],p=l[1],b=Ue({username:"",password:"",confirmPassword:"",firstName:"",lastName:""}),j=Object(o.a)(b,2),h=j[0],x=j[1],g=function(){var e=Object(X.a)(Q.a.mark((function e(){return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!m){e.next=3;break}return d.a.post("/user/".concat(h.username),{password:h.password,firstName:h.firstName,lastName:h.lastName},{withCredentials:!0}).then((()=>{d.a.post("/user/".concat(h.username,"/login"),{password:h.password},{withCredentials:!0}),t.push("/")})).catch((e=>{422==e.response.status?alert("username already exists"):alert(e),p(!1)})),e.abrupt("return");case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(n.useEffect)((()=>{g()}),[m]),Object(W.jsxs)("div",{className:e.root,children:[Object(W.jsx)("h2",{children:"Create Account"}),Object(W.jsx)(u.a,{className:e.textField,id:"outlined-basic",label:"First Name",name:"firstName",value:h.firstName,onChange:x,error:s.firstName,helperText:s.firstName}),Object(W.jsx)(u.a,{className:e.textField,id:"outlined-basic",label:"Last Name",name:"lastName",value:h.lastName,onChange:x,error:s.lastName,helperText:s.lastName}),Object(W.jsx)(u.a,{className:e.textField,id:"outlined-basic",label:"Username",name:"username",value:h.username,onChange:x,error:s.username,helperText:s.username}),Object(W.jsx)(u.a,{className:e.textField,id:"outlined-password-input",label:"password",type:"Password",autoComplete:"current-password",name:"password",value:h.password,onChange:x,error:s.password,helperText:s.password}),Object(W.jsx)(u.a,{className:e.textField,id:"outlined-password-input",label:"Confirm Password",type:"password",name:"confirmPassword",value:h.confirmPassword,onChange:x,error:s.confirmPassword,helperText:s.confirmPassword}),Object(W.jsx)(te.a,{className:e.button,variant:"contained",onClick:()=>{let e={};h.firstName||(e.username="first name is required"),h.lastName||(e.username="last name is required"),h.username||(e.username="username is required"),h.password||(e.password="password is required"),h.confirmPassword?h.confirmPassword!==h.password&&(e.confirmPassword="passwords must match"):e.confirmPassword="confirm password is required",c(e),p(0==Object.getOwnPropertyNames(e).length)},children:"CREATE ACCOUNT"})]})},dt=a(125),mt=a(333),ut=a(36),pt=a(35),bt=a(175),jt=a.n(bt),ht=a(4),xt=a(45);const gt=e=>Object(W.jsx)(xt.g.DayScaleCell,Object(i.a)(Object(i.a)({},e),{},{style:{textAlign:"center",fontWeight:"bold"}})),Ot=e=>({cell:{color:"#78909C",position:"relative",userSelect:"none",verticalAlign:"top",padding:0,height:100,borderBottom:"2.5px solid #272727",borderLeft:"2.5px solid #272727","&:first-child":{borderLeft:"none"},"&:last-child":{paddingRight:0},"&:hover":{backgroundColor:"black"},"&:focus":{backgroundColor:Object(ut.fade)(e.palette.primary.main,.15),outline:0}},content:{display:"flex",justifyContent:"center",width:"100%",height:"100%",position:"absolute",alignItems:"center"},text:{padding:"0.5em",textAlign:"center"},opacity:{opacity:"0.5"},appointment:{borderRadius:"10px","&:hover":{opacity:.6}},apptContent:{"&>div>div":{whiteSpace:"normal !important",lineHeight:1.2}},flexibleSpace:{color:"#78909C",flex:"none"},flexContainer:{display:"flex",alignItems:"center"},tooltipContent:{padding:e.spacing(3,1),paddingTop:0,backgroundColor:e.palette.background.paper,boxSizing:"border-box",width:"400px"},tooltipText:Object(i.a)(Object(i.a)({},e.typography.body2),{},{display:"inline-block"}),title:Object(i.a)(Object(i.a)({},e.typography.h6),{},{color:e.palette.text.secondary,fontWeight:e.typography.fontWeightBold,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}),icon:{color:e.palette.action.active,verticalAlign:"middle"},circle:{width:e.spacing(4.5),height:e.spacing(4.5),verticalAlign:"super"},textCenter:{textAlign:"center"},dateAndTitle:{color:"#78909C",lineHeight:1.1},titleContainer:{paddingBottom:e.spacing(2)},container:{width:"100%",height:"100%"}}),ft=r.a.memo((({classes:e,startDate:t,formatDate:a,otherMonth:n})=>{const r=1===t.getDate()?{day:"numeric",month:"long"}:{day:"numeric"};return Object(W.jsxs)(mt.a,{tabIndex:0,className:Object(ht.a)({[e.cell]:!0,[e.opacity]:n}),children:[Object(W.jsx)("div",{className:e.content}),Object(W.jsx)("div",{className:e.text,children:a(t,r)})]})})),vt=Object(Z.a)(Ot,{name:"Cell"})(ft),wt=Object(Z.a)(Ot,{name:"Appointment"})((e=>{let t=e.classes,a=Object(dt.a)(e,["classes"]);return Object(W.jsx)(xt.c.Appointment,Object(i.a)(Object(i.a)({},a),{},{className:t.appointment}))})),yt=Object(Z.a)(Ot,{name:"AppointmentContent"})((e=>{let t=e.classes,a=Object(dt.a)(e,["classes"]);return Object(W.jsx)(xt.c.AppointmentContent,Object(i.a)(Object(i.a)({},a),{},{className:t.apptContent}))})),Nt=Object(m.a)((()=>({scheduler:{width:"100%",height:"100%"}}))),Ct=Object(Z.a)(Ot,{name:"ToolbarRoot"})((e=>{let t=e.classes,a=Object(dt.a)(e,["classes"]);return Object(W.jsx)(xt.j.FlexibleSpace,Object(i.a)(Object(i.a)({},a),{},{className:t.flexibleSpace,children:Object(W.jsx)("div",{className:t.flexContainer,children:Object(W.jsx)($.a,{variant:"h5",style:{marginLeft:"10px"},children:"My Calendar"})})}))})),kt=()=>{for(var e="#",t=0;t<6;t++)e+="0123456789ABCDEF"[Math.floor(16*Math.random())];return e};let Tt=!1;var St=({appointments:e})=>{const t=Nt(),a=Object(n.useState)([]),r=Object(o.a)(a,2),s=r[0],c=r[1],i=Object(n.useState)([]),l=Object(o.a)(i,2),m=l[0],u=l[1],p=new Date,b=function(){var e=Object(X.a)(Q.a.mark((function e({deleted:t}){return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.a.delete("/appointment/".concat(t));case 2:200===e.sent.status&&c((e=>e.filter((({id:e})=>e!==t))));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),j=()=>{u([]),c([]),null===e||void 0===e||e.forEach(function(){var e=Object(X.a)(Q.a.mark((function e(t,a){var n,r,s,i,o,l;return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return jt()(a,{global:!0}),n={text:"".concat(t.buyer," booked with ").concat(t.provider),provider:t.provider,id:a,color:kt()},u((e=>[...e,n])),e.next=5,d.a.get("/services/".concat(t.service_id));case 5:r=e.sent,s=r.data.result,i=new Date(t.booked_time),(o=new Date(i)).setTime(o.getTime()+60*s.duration*1e3),l={id:t._id,title:s.name,startDate:i,endDate:o,ownerId:a},c((e=>[...e,l]));case 12:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()),Tt=!1};Tt||e.length!==m.length||(null===m||void 0===m||m.forEach((e=>{for(let t=1;t<m.length;t++)e.provider===m[t].provider&&m[t].color!==e.color&&(m[t].color=e.color)})),Tt=!0);const h=[{fieldName:"ownerId",title:"Providers",instances:m}];return Object(n.useEffect)((()=>{j()}),[]),Object(W.jsxs)(xt.i,{className:t.scheduler,data:s,children:[Object(W.jsx)(pt.k,{onCommitChanges:b}),Object(W.jsx)(pt.r,{defaultCurrentDate:p}),Object(W.jsx)(xt.g,{timeTableCellComponent:vt,dayScaleCellComponent:gt}),Object(W.jsx)(xt.c,{appointmentComponent:wt,appointmentContentComponent:yt}),Object(W.jsx)(xt.h,{data:h}),Object(W.jsx)(xt.j,{flexibleSpaceComponent:Ct}),Object(W.jsx)(xt.d,{}),Object(W.jsx)(xt.f,{}),Object(W.jsx)(xt.b,{showCloseButton:!0,showDeleteButton:!0}),Object(W.jsx)(xt.a,{}),Object(W.jsx)(xt.e,{})]})};const Ft=Object(oe.a)({palette:{type:"dark",primary:{main:"#647AA3"},secondary:{main:"#EC5732"},default:{main:"#FFF2EB"}},background:{dark:"#151515",main:"#272727"},typography:{fontFamily:["Roboto"]}}),Dt=Object(m.a)((()=>({container:{width:"100%",height:"91%"}})));var Bt=()=>{const e=Object(n.useState)(),t=Object(o.a)(e,2),a=t[0],r=t[1],s=Dt(),c=Object(Oe.a)(),i=Object(o.a)(c,1)[0],l=Object(Ve.f)(),m=function(){var e=Object(X.a)(Q.a.mark((function e(t){var a;return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.a.get("/appointment/".concat(t));case 2:a=e.sent,r(a.data.result);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(n.useEffect)((()=>{i.username?m(i.username):l.push("/login")}),[]),Object(W.jsx)(pe.a,{theme:Ft,children:Object(W.jsx)("div",{className:s.container,children:a?Object(W.jsx)(St,{appointments:a}):null})})},Pt=a(321),At=a(336);const It=Object(oe.a)({palette:{type:"dark",primary:{main:"#647AA3"},secondary:{main:"#EC5732"},default:{main:"#FFF2EB"}},background:{dark:"#151515",main:"#272727"},typography:{fontFamily:["Roboto"]}}),Et=Object(m.a)((()=>({root:{display:"flex",flexDirection:"column",justifyContent:"space-evenly",alignItems:"center",margin:"2%"},title:{color:"white"},textField:{width:"50%",marginBottom:"3%"},passwordTextField:{marginRight:"10px"},button:{textTransform:"capitalize",marginRight:"10px"},buttonContainer:{display:"flex",marginTop:"10px"},passwordContainer:{display:"flex",marginBottom:"3%",alignItems:"center"},accountBtn:{position:"absolute",bottom:0,left:0,"&:hover":{}},arrowIcon:{height:"75px",width:"75px"},bio:{height:"100px",width:"50%",marginBottom:"20px"},pic:{color:"white",width:96,height:96}})));var Lt=e=>{const t=Et(),a=Object(Ve.f)(),r=Object(Oe.a)(["username"]),s=Object(o.a)(r,2),c=s[0],i=s[1],l=Object(n.useState)({}),m=Object(o.a)(l,2),b=m[0],j=m[1],h=Object(n.useState)({}),x=Object(o.a)(h,2),g=x[0],O=x[1],f=Object(n.useState)(),v=Object(o.a)(f,2),w=v[0],y=v[1],N=Object(n.useState)(),C=Object(o.a)(N,2),k=C[0],T=C[1],S=Object(n.useState)(!1),F=Object(o.a)(S,2),D=F[0],B=F[1],P=Ue({username:"",password:"",confirmPassword:"",firstName:"",lastName:"",bio:""}),A=Object(o.a)(P,3),I=A[0],E=A[1],L=A[2],R=function(){var e=Object(X.a)(Q.a.mark((function e(){return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:k&&(d.a.put("/user/".concat(I.username),{password:I.password}).then((()=>{alert("Password updated successfully"),B(!1)})).catch((e=>{alert("could not update password"+e)})),T(!1));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),M=function(){var t=Object(X.a)(Q.a.mark((function t(){return Q.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!w){t.next=4;break}return d.a.put("/user/".concat(I.username),{password:I.password,firstName:I.firstName,lastName:I.lastName,bio:I.bio},{withCredentials:!0}).then((()=>{alert("Info updated successfully"),e.setUsername(I.username)})).catch((e=>{alert(e),y(!1)})),y(!1),t.abrupt("return");case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();Object(n.useEffect)((()=>{M()}),[w]),Object(n.useEffect)((()=>{R()}),[k]),Object(n.useEffect)((()=>{d.a.get("/user/".concat(c.username)).then((e=>{L({username:e.data.result.username,firstName:e.data.result.firstName,lastName:e.data.result.lastName,bio:e.data.result.bio})})).catch((e=>{alert("could not update password"+e)}))}),[]);return Object(W.jsx)(pe.a,{theme:It,children:Object(W.jsxs)("div",{className:t.root,children:[Object(W.jsx)($.a,{variant:"h2",className:t.title,children:"Account Details"}),Object(W.jsx)(ie,{username:c.username}),Object(W.jsx)(Pt.a,{type:"file",onChange:e=>(e=>{let t=new FormData;t.append("imageName","multer-image-"+Date.now()),t.append("imageData",e.target.files[0]),t.append("ownerUsername",c.username),t.append("profilePicture",!0),d.a.post("/images/upload",t).then((()=>{})).catch((e=>{alert("Error while uploading image"+e)}))})(e)}),Object(W.jsx)(u.a,{className:t.textField,id:"outlined-basic",label:"First Name",name:"firstName",value:I.firstName,onChange:E,error:b.firstName,helperText:b.firstName}),Object(W.jsx)(u.a,{className:t.textField,id:"outlined-basic",label:"Last Name",name:"lastName",value:I.lastName,onChange:E,error:b.lastName,helperText:b.lastName}),Object(W.jsx)(u.a,{className:t.textField,id:"outlined-basic",label:"Username",name:"username",value:I.username,onChange:E,error:b.username,helperText:b.username}),Object(W.jsx)(u.a,{className:t.bio,id:"outlined-basic",label:"Bio",name:"bio",value:I.bio,onChange:E,multiline:!0,rowsMax:4,error:b.bio,helperText:b.bio}),D?Object(W.jsxs)("div",{className:t.passwordContainer,children:[Object(W.jsx)(u.a,{className:t.passwordTextField,id:"outlined-password-input",label:"password",type:"Password",autoComplete:"current-password",name:"password",value:I.password,onChange:E,error:g.password,helperText:g.password}),Object(W.jsx)(u.a,{className:t.passwordTextField,id:"outlined-password-input",label:"Confirm Password",type:"password",name:"confirmPassword",value:I.confirmPassword,onChange:E,error:g.confirmPassword,helperText:g.confirmPassword}),Object(W.jsx)(te.a,{className:t.button,onClick:()=>{let e={};I.password||(e.password="password is required"),I.confirmPassword?I.password!==I.confirmPassword&&(e.confirmPassword="passwords must match"):e.confirmPassword="last name is required",O(e),T(0==Object.getOwnPropertyNames(e).length)},variant:"contained",children:"Update Password"})]}):Object(W.jsx)(te.a,{className:t.button,onClick:()=>B(!0),variant:"contained",children:"Update Password"}),Object(W.jsxs)("div",{className:t.buttonContainer,children:[Object(W.jsx)(te.a,{className:t.button,variant:"contained",onClick:()=>{let e={};I.firstName||(e.username="first name is required"),I.lastName||(e.username="last name is required"),I.username||(e.username="username is required"),I.bio.length>250&&(e.bio="bio must be under 250 characters"),j(e),y(0==Object.getOwnPropertyNames(e).length)},children:"Update Info"}),Object(W.jsx)(te.a,{className:t.button,variant:"contained",onClick:()=>{i("username"),e.setUsername(""),a.push("/login")},children:"Logout"})]}),Object(W.jsx)(p.a,{className:t.accountBtn,onClick:()=>{a.push("/profile/".concat(c.username))},children:Object(W.jsx)(At.a,{className:t.arrowIcon})})]})})},Rt=a(339),Mt=a(337),zt=a(338),_t=a(322),Ht=a(181),Ut=a.n(Ht);const qt=Object(m.a)((e=>({root:{position:"relative",width:"60%",height:"100%",overflow:"hidden",backgroundColor:e.background.dark},inputRoot:{position:"absolute",bottom:0,right:0,height:"75px",width:"75px"},btn:{position:"absolute",bottom:0,right:0,height:"75px",width:"75px","pointer-events":"none","z-index":6},image:{width:"33%",height:"auto","object-fit":"cover"},gridList:{alignContent:"flex-start",width:"100%",height:"100%"},icon:{width:"50px",height:"50px",color:"white"}}))),Yt=Object(m.a)((()=>({root:{position:"absolute",height:"75px",width:"75px",bottom:0,right:0,"z-index":"4"},input:{display:"inline-block","box-sizing":"border-box","border-radius":"20px",height:"75px",width:"75px",overflow:"hidden",padding:"120px 0 0 0","z-index":"4"}})));var Wt=()=>{const e=Object(n.useState)([]),t=Object(o.a)(e,2),a=t[0],r=t[1],s=qt(),c=Yt(),i=Object(Oe.a)(["username"]),l=Object(o.a)(i,1)[0],m=Object(n.useState)(!1),u=Object(o.a)(m,2),b=u[0],j=u[1];let h=Object(Ve.g)().targetUsername;const x=function(){var e=Object(X.a)(Q.a.mark((function e(){var t,a;return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.a.get("/images/".concat(h));case 2:t=e.sent,(a=t.data.result).sort(((e,t)=>{e.uploadDate,t.uploadDate})),r(a);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(n.useEffect)((()=>{x()}),[h,b]);return Object(W.jsxs)("div",{className:s.root,children:[a?(console.log(a),Object(W.jsx)(Mt.a,{cellHeight:200,className:s.gridList,cols:3,children:a.map(((e,t)=>Object(W.jsx)(zt.a,{cols:1,children:Object(W.jsx)("img",{src:"".concat("https://acubed-servus-api.herokuapp.com/","/").concat(e.imageData)})},t)))})):null,l.username&&l.username===h?Object(W.jsxs)("div",{className:s.inputRoot,children:[Object(W.jsx)(p.a,{className:s.btn,variant:"contained",children:Object(W.jsx)(Ut.a,{className:s.icon})}),Object(W.jsx)(_t.a,{classes:c,type:"file",onChange:e=>(e=>{let t=new FormData;t.append("imageName","multer-image-"+Date.now()),t.append("imageData",e.target.files[0]),t.append("ownerUsername",h),t.append("profilePicture",!1),d.a.post("/images/upload",t).then((()=>{})).catch((e=>{alert("Error while uploading image"+e)})),j(!b)})(e)})]}):null]})},Vt=a(335),Jt=a(334);const Gt=Object(oe.a)({palette:{type:"dark",primary:{main:"#647AA3"},secondary:{main:"#EC5732"},default:{main:"#FFF2EB"}},background:{dark:"#151515",main:"#272727"},typography:{fontFamily:["Roboto"]}}),Kt=Object(m.a)((e=>({textField:{width:"80%",marginBottom:"3%"},timeField:{width:"30%"},timeContainer:{width:"80%",display:"flex",justifyContent:"space-between",alignItems:"center"},addressSearch:{width:"80%",marginBottom:"3%",color:"white"},addressField:{width:"100%"},button:{textTransform:"capitalize",marginRight:"10px",marginTop:"20px"},buttonContainer:{display:"flex",marginTop:"10px",justifyContent:"center",backgroundColor:e.background.dark,width:"100%"},servicesContainer:{width:"100%",backgroundColor:e.background.dark,height:"100%",color:"white"},serviceForm:{display:"flex",flexDirection:"column",width:"100%",height:"100%",alignItems:"center",justifyContent:"flex-start",paddingTop:"4%",overflow:"scroll",padding:10,backgroundColor:e.background.dark},formControl:{margin:"10px"},durationSelect:{width:"80%",marginBottom:"20px"},tagSelectLabel:{width:"80%",marginTop:"20px",marginBottom:"4px"},tagSelect:{width:"80%"},tagSelectText:{"align-content":"left"},chips:{display:"flex",flexWrap:"wrap"},chip:{margin:2},iconGrid:{margin:0,width:"80%",marginTop:"16px"},daysContainer:{width:"60%",display:"flex",alignItems:"center",justifyContent:"center",marginTop:"10px",marginBottom:"20px"},dayButton:{textTransform:"capitalize"},selectedDayButton:{backgroundColor:"white",color:"black",textTransform:"capitalize"},timesContainer:{width:"100%",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"},addButton:{marginTop:"24px",textTransform:"capitalize"}}))),Qt=(e,t,a)=>({fontWeight:-1===t.indexOf(a)?a.typography.fontWeightRegular:a.typography.fontWeightMedium}),Xt=[{index:0,name:"Sunday"},{index:1,name:"Monday"},{index:2,name:"Tuesday"},{index:3,name:"Wednesday"},{index:4,name:"Thursday"},{index:5,name:"Friday"},{index:6,name:"Saturday"}];var Zt=({addedService:e})=>{var t;const a=Kt(),r=Object(Oe.a)(["username"]),s=Object(o.a)(r,1)[0],c=Object(n.useState)({}),l=Object(o.a)(c,2),m=l[0],b=l[1],j=Object(n.useState)([]),h=Object(o.a)(j,2),x=h[0],f=h[1],w=Object(n.useState)("place"),y=Object(o.a)(w,2),N=y[0],C=y[1],k=Object(n.useState)(0),T=Object(o.a)(k,2),S=T[0],F=T[1],D=Object(n.useState)([[],[],[],[],[],[],[]]),B=Object(o.a)(D,2),P=B[0],A=B[1],I=Ue({name:"",description:"",cost:""}),E=Object(o.a)(I,2),L=E[0],R=E[1],M=Object(n.useState)("0030"),z=Object(o.a)(M,2),_=z[0],H=z[1],U=Object(n.useState)("30 minutes"),q=Object(o.a)(U,2),Y=q[0],J=q[1],G=Object(n.useState)({}),K=Object(o.a)(G,2),Q=K[0],X=K[1],Z=Object(n.useState)(!1),$=Object(o.a)(Z,2),ee=$[0],ae=$[1],ne=Object(v.c)({id:"google-map-script",libraries:g,googleMapsApiKey:"AIzaSyBNSJgJVpv7okVMupuIM0ziVlkmMuwluHg"}).isLoaded;let re=Object(n.useRef)();const se=()=>{let e=[];return P.forEach(((t,a)=>{(t=t.filter((e=>""!==e.startTime&&""!==e.endTime))).forEach((t=>e.push({weekday:a,start_time:t.startTime,end_time:t.endTime})))})),e};Object(n.useEffect)((()=>{console.log(N),ee&&d.a.post("/services",{username:s.username,name:L.name,description:L.description,cost:L.cost,duration:_,availability:se(),location:{lat:m.lat,lng:m.lng,address:m.address},ratings:[],tags:x,icon_name:N},{withCredentials:!0}).then((()=>{alert("Service added successfully"),ae(!1),e()})).catch((()=>{ae(!1)}))}),[ee]);const ce=Object(n.useCallback)((e=>{re.current=e}),[]);let ie={"0005":"5 minutes","0010":"10 minutes","0015":"15 minutes","0020":"20 minutes","0025":"25 minutes","0030":"30 minutes","0035":"35 minutes","0040":"40 minutes","0045":"45 minutes","0050":"50 minutes","0100":"1 hour","0115":"1 hour 15 minutes","0130":"1 hour 30 minutes","0145":"1 hour 45 minutes","0200":"2 hours"};return Object(W.jsx)(pe.a,{theme:Gt,children:Object(W.jsx)("div",{className:a.servicesContainer,children:Object(W.jsxs)("div",{className:a.serviceForm,children:[Object(W.jsx)(u.a,{className:a.textField,label:"Service Name",name:"name",value:L.name,onChange:R,error:Q.name,helperText:Q.name}),V[N]?V[N].component:null,Object(W.jsx)("div",{className:a.iconGrid,children:Object(W.jsx)(Jt.a,{container:!0,spacing:1,children:(()=>{let e=Object.keys(V),t=[];return e.forEach((e=>{t.push((e=>{return Object(W.jsx)(Jt.a,{item:!0,className:a.selectableIcon,onClick:(t=e,()=>{C(t)}),children:Object(W.jsx)(p.a,{children:V[e].component})});var t})(e))})),t})()})}),Object(W.jsx)(u.a,{className:a.textField,label:"Service Description",name:"description",value:L.description,onChange:R,error:Q.description,helperText:Q.description}),Object(W.jsx)(u.a,{className:a.textField,label:"Service Cost",name:"cost",value:L.cost,onChange:R,error:Q.cost,helperText:Q.cost}),Object(W.jsxs)(le.a,{className:a.durationSelect,children:[Object(W.jsx)(de.a,{id:"durationLabel",children:"Service Duration"}),Object(W.jsx)(me.a,{labelId:"durationLabel",value:Y,onChange:e=>{var t;return(e=>{J(e);let t=Object.keys(ie).find((t=>ie[t]===e));console.log([e,t]),H(t)})(null===(t=e.target)||void 0===t?void 0:t.value)},children:Object.values(ie).map(((e,t)=>Object(W.jsx)(ue.a,{value:e,children:e},t)))})]}),ne&&Object(W.jsx)(v.a,{options:Object(i.a)({},O),onPlaceChanged:()=>{var e,t,a,n,r,s;b({lat:null===(e=re.current)||void 0===e||null===(t=e.getPlace().geometry)||void 0===t?void 0:t.location.lat(),lng:null===(a=re.current)||void 0===a||null===(n=a.getPlace().geometry)||void 0===n?void 0:n.location.lng(),address:"".concat(null===(r=re.current)||void 0===r?void 0:r.getPlace().address_components[0].short_name," ").concat(null===(s=re.current)||void 0===s?void 0:s.getPlace().address_components[1].short_name)}),console.log(m)},onLoad:ce,className:a.addressSearch,children:Object(W.jsx)(u.a,{className:a.addressField,id:"search-address",placeholder:"Service Location"})}),Object(W.jsx)("div",{className:a.daysContainer,children:Object(W.jsx)(Vt.a,{variant:"contained",color:"primary","aria-label":"contained primary button group",children:Xt.map((e=>Object(W.jsx)(te.a,{variant:"contained",className:S===e.index?a.selectedDayButton:a.dayButton,onClick:()=>{return t=e.index,void F(t);var t},children:e.name},e.index)))})}),Object(W.jsxs)("div",{className:a.timesContainer,children:[null===(t=P[S])||void 0===t?void 0:t.map(((e,t)=>((e,t)=>Object(W.jsxs)("div",{className:a.timeContainer,children:[Object(W.jsx)(u.a,{id:"time",label:"Availability Start",type:"time",name:"startTime",value:e.startTime,className:a.timeField,onChange:e=>{let a=[...P];a[S][t]=Object(i.a)(Object(i.a)({},a[S][t]),{},{startTime:e.target.value}),A(a)},InputLabelProps:{shrink:!0},inputProps:{step:300}}),Object(W.jsx)(u.a,{id:"time",label:"Availability End",type:"time",name:"endTime",value:e.endTime,className:a.timeField,onChange:e=>{let a=[...P];a[S][t]=Object(i.a)(Object(i.a)({},a[S][t]),{},{endTime:e.target.value}),A(a)},InputLabelProps:{shrink:!0},inputProps:{step:300}}),Object(W.jsx)(te.a,{variant:"contained",className:a.button,onClick:()=>{let e=[...P];e[S].splice(t,1),A(e)},children:"Remove"})]}))(e,t))),Object(W.jsx)(te.a,{variant:"contained",onClick:()=>(()=>{let e=[...P];e[S].push({startTime:"",endTime:""}),A(e)})(),className:a.addButton,children:"Add availability"})]}),Object(W.jsx)(de.a,{className:a.tagSelectLabel,id:"tag-select-label",children:Object(W.jsx)("div",{className:a.tagSelectText,children:"Tags"})}),Object(W.jsx)(me.a,{className:a.tagSelect,labelId:"tag-select-label",id:"tagSelect",multiple:!0,value:x,onChange:e=>{f(e.target.value)},input:Object(W.jsx)(Pt.a,{id:"select-multiple-tags"}),MenuProps:{getContentAnchorEl:()=>null},renderValue:e=>Object(W.jsx)("div",{className:a.chips,children:e.map((e=>{return Object(W.jsx)(Fe.a,{label:e,className:a.chip,onDelete:(t=e,()=>{console.log(t),f((e=>e.filter((e=>e!==t))))}),onMouseDown:e=>{e.stopPropagation()}},e);var t}))}),children:Le.map((e=>Object(W.jsx)(ue.a,{value:e,style:Qt(0,x,Gt),children:e},e)))}),Object(W.jsx)("div",{className:a.buttonContainer,children:Object(W.jsx)(te.a,{className:a.button,variant:"contained",onClick:()=>{let e={};L.name||(e.name="name is required"),L.description||(e.description="description is required"),L.cost||(e.cost="cost is required"),4!=_.length&&(e.duration="duration is required"),0==Object.getOwnPropertyNames(m).length&&(e.location="location is required"),X(e),ae(0===Object.getOwnPropertyNames(e).length)},children:"Add Service"})})]})})})};const $t=Object(m.a)((e=>({root:{[e.breakpoints.up("xs")]:{minWidth:"384px",width:"384px",height:"100%"},"background-color":e.background.dark,"overflow-y":"scroll","overflow-x":"hidden",[e.breakpoints.down("xs")]:{width:"100%",height:"100%"}},userInfo:{height:"100%",width:"20%",background:"grey",display:"flex",flexDirection:"column",alignItems:"center"},userIconContainer:{display:"flex",justifyContent:"center"},userIcon:{height:"75px",width:"75px",margin:"0",padding:"0"},username:{width:"100%","text-align":"center",padding:"0",margin:"0"},title:{fontSize:"1.3em"},cardView:{width:"100%"},userDesc:{width:"90%",display:"flex",alignItems:"center",textAlign:"left",flexDirection:"column",color:"black",backgroundColor:"#FFF2EB",marginTop:"20px",marginBottom:"20px",marginLeft:"auto",marginRight:"auto",borderRadius:8,"word-wrap":"break-word"},rootList:{padding:"8px",width:"100%",height:"auto","overflow-x":"hidden"},buttonContainer:{display:"flex",marginTop:"10px",justifyContent:"center",width:"100%"},button:{marginTop:10,textTransform:"capitalize"},bio:{width:"100%","text-align":"center",padding:"0",margin:"0"},modal:{width:"50%",height:"80%",margin:"auto auto",overflow:"hidden"},servicesTitle:{marginLeft:"10px",color:"white"}}))),ea=Object(m.a)((e=>({root:{"& p":{color:"#545454"},padding:"0","padding-top":"4px","padding-bottom":"4px",height:"auto",width:"auto"},selected:{"& p":{color:"white"}},divider:{"border-color":e.background.main}}))),ta=e=>{const t=$t(),a=Object(n.useState)([]),r=Object(o.a)(a,2),s=r[0],c=r[1],i=Object(n.useState)(!1),l=Object(o.a)(i,2),m=l[0],u=l[1],p=Object(n.useState)(1),b=Object(o.a)(p,2),j=b[0],h=b[1],x=Object(Oe.a)(["username"]),g=Object(o.a)(x,1)[0],O=ea(),f=function(){var t=Object(X.a)(Q.a.mark((function t(){var a;return Q.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,d.a.get("/user/".concat(e.username,"/services"));case 2:a=t.sent,c(a.data.result);case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();Object(n.useEffect)((()=>{f()}),[e]);return Object(W.jsxs)("div",{className:t.serviceList,children:[Object(W.jsx)(Pe.a,{className:t.rootList,children:s?s.map(((a,n)=>Object(W.jsx)(Ae.a,{classes:O,onClick:e=>((e,t)=>{console.log(e),console.log(t),h(t)})(e,n),selected:j==n,divider:!0,children:Object(W.jsx)(He,{bookable:g.username&&g.username!==e.username,service:a,index:n,className:t.serviceCard,selected:j==n,expand:!0})},n))):null}),g.username&&g.username===e.username?Object(W.jsxs)("div",{children:[Object(W.jsx)(ae.a,{className:t.modal,open:m,onClose:()=>{u(!1)},children:Object(W.jsx)(Zt,{addedService:()=>{f(),u(!1)}})}),Object(W.jsx)("div",{className:t.buttonContainer,children:Object(W.jsx)(te.a,{className:t.button,variant:"contained",onClick:()=>u(!0),children:"Add Service"})})]}):null]})};var aa=({user:e})=>{const t=$t();return Object(n.useEffect)((()=>{}),[e]),Object(W.jsx)("div",{className:t.root,children:e?Object(W.jsxs)("div",{className:t.userContainer,children:[Object(W.jsxs)(Se.a,{elevation:8,className:t.userDesc,children:[Object(W.jsx)(ie,{username:e.username}),Object(W.jsx)($.a,{className:t.username,children:"@".concat(e.username)}),Object(W.jsx)($.a,{className:t.bio,color:"textPrimary",children:e.bio})]}),Object(W.jsx)("div",{className:t.servicesTitle,children:Object(W.jsx)($.a,{children:"My Services:"})}),Object(W.jsx)(ta,{username:e.username})]}):Object(W.jsx)($.a,{children:"User Does Not Exist"})})};const na=Object(m.a)((()=>({root:{height:"90%",width:"100%",display:"flex",flexDirection:"row"},accountBtn:{position:"absolute",bottom:0,right:0,"&:hover":{}},settingsIcon:{height:"75px",width:"75px",color:"white"}})));var ra=()=>{const e=na(),t=Object(Oe.a)(["username"]),a=Object(o.a)(t,1)[0],r=Object(Ve.f)();let s=Object(Ve.g)().targetUsername;const c=Object(n.useState)({}),i=Object(o.a)(c,2),l=i[0],m=i[1];return Object(n.useEffect)((()=>{s&&d.a.get("/user/".concat(s)).then((e=>{m(e.data.result)})).catch((()=>{r.push("/")}))}),[s]),Object(W.jsxs)("div",{className:e.root,children:[Object(W.jsx)(aa,{user:l}),Object(W.jsx)(Wt,{username:s}),a.username&&a.username===s?Object(W.jsx)(p.a,{className:e.accountBtn,onClick:()=>{r.push("/account")},children:Object(W.jsx)(Rt.a,{className:e.settingsIcon})}):null]})},sa=a(182);a.n(sa).a.config();const ca=Object(oe.a)({palette:{primary:{main:"#647AA3"},secondary:{main:"#EC5732"},default:{main:"#FFF2EB"}},background:{dark:"#151515",main:"#272727"},typography:{fontFamily:["Roboto"]}}),ia=Object(m.a)((()=>({container:{width:"100%",height:"100%",background:ca.background.dark},"@global":{"*::-webkit-scrollbar":{display:"none"},".MuiInputBase-input":{color:"white"},".MuiInputBase-root":{color:"white"},".MuiInputLabel-root":{color:"white"}}})));var oa=()=>{const e=ia(),t=Object(Oe.a)(),a=Object(o.a)(t,1)[0],r=Object(n.useState)(),s=Object(o.a)(r,2),c=s[0],l=s[1];return Object(n.useEffect)((()=>{a.username&&l(a.username)}),[]),Object(W.jsx)(pe.a,{theme:ca,children:Object(W.jsx)(Se.a,{className:e.container,children:Object(W.jsxs)(rt.a,{basename:"/Servus",children:[Object(W.jsx)(nt,{username:c}),Object(W.jsxs)(Ve.c,{children:[Object(W.jsx)(Ve.a,{exact:!0,from:"/",render:e=>Object(W.jsx)(Ge,Object(i.a)({},e))}),Object(W.jsx)(Ve.a,{exact:!0,path:"/appointment",render:e=>Object(W.jsx)(Bt,Object(i.a)({},e))}),Object(W.jsx)(Ve.a,{exact:!0,path:"/login",render:e=>Object(W.jsx)(it,Object(i.a)(Object(i.a)({},e),{},{setUsername:l}))}),Object(W.jsx)(Ve.a,{exact:!0,path:"/signup",render:e=>Object(W.jsx)(lt,Object(i.a)({},e))}),Object(W.jsx)(Ve.a,{exact:!0,path:"/account",render:e=>Object(W.jsx)(Lt,Object(i.a)(Object(i.a)({},e),{},{setUsername:l}))}),Object(W.jsx)(Ve.a,{exact:!0,path:"/profile/:targetUsername",render:e=>Object(W.jsx)(ra,Object(i.a)(Object(i.a)({},e),{},{setUsername:l}))})]})]})})})},la=a(340);d.a.defaults.baseURL="https://acubed-servus-api.herokuapp.com/",d.a.defaults.headers.common.Authorization="AUTH TOKEN",d.a.defaults.headers.post["Content-Type"]="application/json";const da=document.getElementById("root");c.a.render(Object(W.jsxs)(r.a.StrictMode,{children:[Object(W.jsx)(la.a,{}),Object(W.jsx)(oa,{})]}),da)}},[[246,1,2]]]);
//# sourceMappingURL=main.56543842.chunk.js.map